<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payroll Analytics - Payroll Management</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    function logout(){ localStorage.removeItem('authToken'); localStorage.removeItem('userRole'); localStorage.removeItem('username'); localStorage.removeItem('fullName'); window.location.href='login.html'; }
    function checkAuth(){ const t=localStorage.getItem('authToken'); const r=localStorage.getItem('userRole'); const u=localStorage.getItem('username'); if(!t||!r||!u){ window.location.href='login.html'; return; } if(r!=='hr' && r!=='admin'){ alert('HR/Admin access required'); window.location.href='login.html'; return; } document.getElementById('currentUser').innerHTML=`<span>${localStorage.getItem('fullName') || u}</span><span class="role-badge">${r.toUpperCase()}</span>`; document.body.classList.add('employee-theme'); loadPayrollAnalytics(); }
    
    let monthlyChart = null;
    let departmentChart = null;
    let bonusChart = null;
    let taxChart = null;
    
    function loadPayrollAnalytics() {
        generateAnalyticsData();
        loadAnalyticsSummary();
        createMonthlyPayrollChart();
        createDepartmentChart();
        createBonusTrendChart();
        createTaxBreakdownChart();
        loadAnalyticsAchievements();
    }
    
    function generateAnalyticsData() {
        const analytics = JSON.parse(localStorage.getItem('payrollAnalytics') || '[]');
        if (analytics.length === 0) {
            const months = [];
            const today = new Date();
            
            // Generate 12 months of data
            for (let i = 11; i >= 0; i--) {
                const month = new Date(today.getFullYear(), today.getMonth() - i, 1);
                const monthStr = month.toISOString().substring(0, 7);
                
                months.push({
                    month: monthStr,
                    totalPayroll: 45000 + Math.random() * 10000,
                    employeeCount: 8 + Math.floor(Math.random() * 3),
                    averageSalary: 5500 + Math.random() * 2000,
                    totalTaxes: 8000 + Math.random() * 2000,
                    totalBonuses: 2000 + Math.random() * 1000,
                    totalDeductions: 1000 + Math.random() * 500,
                    departmentBreakdown: {
                        'Operations': 15000 + Math.random() * 5000,
                        'Marketing': 12000 + Math.random() * 4000,
                        'Engineering': 18000 + Math.random() * 6000
                    }
                });
            }
            
            localStorage.setItem('payrollAnalytics', JSON.stringify(months));
        }
    }
    
    function loadAnalyticsSummary() {
        const analytics = JSON.parse(localStorage.getItem('payrollAnalytics') || '[]');
        const currentMonth = analytics[analytics.length - 1];
        const previousMonth = analytics[analytics.length - 2];
        
        if (currentMonth) {
            document.getElementById('currentPayroll').textContent = `$${currentMonth.totalPayroll.toLocaleString()}`;
            document.getElementById('currentEmployees').textContent = currentMonth.employeeCount;
            document.getElementById('averageSalary').textContent = `$${currentMonth.averageSalary.toFixed(0)}`;
            
            // Calculate growth
            if (previousMonth) {
                const payrollGrowth = ((currentMonth.totalPayroll - previousMonth.totalPayroll) / previousMonth.totalPayroll * 100);
                const employeeGrowth = currentMonth.employeeCount - previousMonth.employeeCount;
                const salaryGrowth = ((currentMonth.averageSalary - previousMonth.averageSalary) / previousMonth.averageSalary * 100);
                
                document.getElementById('payrollGrowth').textContent = `${payrollGrowth > 0 ? '+' : ''}${payrollGrowth.toFixed(1)}%`;
                document.getElementById('payrollGrowth').className = `growth-indicator ${payrollGrowth > 0 ? 'positive' : 'negative'}`;
                
                document.getElementById('employeeGrowth').textContent = `${employeeGrowth > 0 ? '+' : ''}${employeeGrowth}`;
                document.getElementById('employeeGrowth').className = `growth-indicator ${employeeGrowth > 0 ? 'positive' : 'negative'}`;
                
                document.getElementById('salaryGrowth').textContent = `${salaryGrowth > 0 ? '+' : ''}${salaryGrowth.toFixed(1)}%`;
                document.getElementById('salaryGrowth').className = `growth-indicator ${salaryGrowth > 0 ? 'positive' : 'negative'}`;
            }
        }
    }
    
    function createMonthlyPayrollChart() {
        const ctx = document.getElementById('monthlyPayrollChart');
        if (!ctx) return;
        
        const analytics = JSON.parse(localStorage.getItem('payrollAnalytics') || '[]');
        const labels = analytics.map(a => new Date(a.month).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }));
        const payrollData = analytics.map(a => a.totalPayroll);
        const taxData = analytics.map(a => a.totalTaxes);
        
        if (monthlyChart) {
            monthlyChart.destroy();
        }
        
        monthlyChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Total Payroll',
                    data: payrollData,
                    backgroundColor: 'rgba(59, 130, 246, 0.8)',
                    borderColor: 'rgb(59, 130, 246)',
                    borderWidth: 1
                }, {
                    label: 'Total Taxes',
                    data: taxData,
                    backgroundColor: 'rgba(239, 68, 68, 0.8)',
                    borderColor: 'rgb(239, 68, 68)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString();
                            }
                        }
                    }
                }
            }
        });
    }
    
    function createDepartmentChart() {
        const ctx = document.getElementById('departmentChart');
        if (!ctx) return;
        
        const analytics = JSON.parse(localStorage.getItem('payrollAnalytics') || '[]');
        const currentMonth = analytics[analytics.length - 1];
        
        if (!currentMonth) return;
        
        const departments = Object.keys(currentMonth.departmentBreakdown);
        const amounts = Object.values(currentMonth.departmentBreakdown);
        const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'];
        
        if (departmentChart) {
            departmentChart.destroy();
        }
        
        departmentChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: departments,
                datasets: [{
                    data: amounts,
                    backgroundColor: colors.slice(0, departments.length),
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const total = amounts.reduce((sum, val) => sum + val, 0);
                                const percentage = ((context.parsed / total) * 100).toFixed(1);
                                return context.label + ': $' + context.parsed.toLocaleString() + ' (' + percentage + '%)';
                            }
                        }
                    }
                }
            }
        });
    }
    
    function createBonusTrendChart() {
        const ctx = document.getElementById('bonusTrendChart');
        if (!ctx) return;
        
        const analytics = JSON.parse(localStorage.getItem('payrollAnalytics') || '[]');
        const labels = analytics.map(a => new Date(a.month).toLocaleDateString('en-US', { month: 'short', year: 'numeric' }));
        const bonusData = analytics.map(a => a.totalBonuses);
        const deductionData = analytics.map(a => a.totalDeductions);
        
        if (bonusChart) {
            bonusChart.destroy();
        }
        
        bonusChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Bonuses',
                    data: bonusData,
                    borderColor: 'rgb(16, 185, 129)',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: true
                }, {
                    label: 'Deductions',
                    data: deductionData,
                    borderColor: 'rgb(239, 68, 68)',
                    backgroundColor: 'rgba(239, 68, 68, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': $' + context.parsed.y.toLocaleString();
                            }
                        }
                    }
                }
            }
        });
    }
    
    function createTaxBreakdownChart() {
        const ctx = document.getElementById('taxBreakdownChart');
        if (!ctx) return;
        
        const analytics = JSON.parse(localStorage.getItem('payrollAnalytics') || '[]');
        const currentMonth = analytics[analytics.length - 1];
        
        if (!currentMonth) return;
        
        const taxBreakdown = {
            'Income Tax': currentMonth.totalTaxes * 0.6,
            'Social Security': currentMonth.totalTaxes * 0.25,
            'Medicare': currentMonth.totalTaxes * 0.1,
            'Other': currentMonth.totalTaxes * 0.05
        };
        
        const labels = Object.keys(taxBreakdown);
        const amounts = Object.values(taxBreakdown);
        const colors = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444'];
        
        if (taxChart) {
            taxChart.destroy();
        }
        
        taxChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: labels,
                datasets: [{
                    data: amounts,
                    backgroundColor: colors,
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const total = amounts.reduce((sum, val) => sum + val, 0);
                                const percentage = ((context.parsed / total) * 100).toFixed(1);
                                return context.label + ': $' + context.parsed.toLocaleString() + ' (' + percentage + '%)';
                            }
                        }
                    }
                }
            }
        });
    }
    
    function loadAnalyticsAchievements() {
        const username = localStorage.getItem('username');
        const achievements = JSON.parse(localStorage.getItem(`achievements_${username}`) || '[]');
        
        // Check for analytics-specific achievements
        const analyticsAchievements = [
            {
                id: 'payroll_master',
                title: 'Payroll Master',
                description: 'Process payroll for 12 consecutive months',
                icon: 'fas fa-crown',
                xpReward: 500,
                condition: () => {
                    const analytics = JSON.parse(localStorage.getItem('payrollAnalytics') || '[]');
                    return analytics.length >= 12;
                }
            },
            {
                id: 'analytics_expert',
                title: 'Analytics Expert',
                description: 'Export 10 analytics reports',
                icon: 'fas fa-chart-line',
                xpReward: 300,
                condition: () => {
                    const exports = JSON.parse(localStorage.getItem(`analyticsExports_${username}`) || '[]');
                    return exports.length >= 10;
                }
            },
            {
                id: 'data_driven',
                title: 'Data Driven',
                description: 'View analytics dashboard 50 times',
                icon: 'fas fa-eye',
                xpReward: 200,
                condition: () => {
                    const views = JSON.parse(localStorage.getItem(`analyticsViews_${username}`) || '[]');
                    return views.length >= 50;
                }
            }
        ];
        
        // Track analytics view
        const views = JSON.parse(localStorage.getItem(`analyticsViews_${username}`) || '[]');
        views.push(new Date().toISOString());
        localStorage.setItem(`analyticsViews_${username}`, JSON.stringify(views.slice(-100)));
        
        // Check and award achievements
        analyticsAchievements.forEach(achievement => {
            if (!achievements.includes(achievement.id) && achievement.condition()) {
                awardAnalyticsAchievement(achievement);
            }
        });
    }
    
    function awardAnalyticsAchievement(achievement) {
        const username = localStorage.getItem('username');
        const earnedAchievements = JSON.parse(localStorage.getItem(`achievements_${username}`) || '[]');
        earnedAchievements.push(achievement.id);
        localStorage.setItem(`achievements_${username}`, JSON.stringify(earnedAchievements));
        
        showAchievementNotification(achievement);
    }
    
    function showAchievementNotification(achievement) {
        const notification = document.createElement('div');
        notification.className = 'achievement-notification';
        notification.innerHTML = `
            <div class="notification-content">
                <div class="notification-icon">
                    <i class="${achievement.icon}"></i>
                </div>
                <div class="notification-text">
                    <h4>Achievement Unlocked!</h4>
                    <p>${achievement.title}</p>
                    <span class="xp-reward">+${achievement.xpReward} XP</span>
                </div>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => notification.classList.add('show'), 100);
        
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => notification.remove(), 300);
        }, 5000);
    }
    
    function filterAnalytics() {
        const dateFrom = document.getElementById('dateFrom').value;
        const dateTo = document.getElementById('dateTo').value;
        const department = document.getElementById('departmentFilter').value;
        
        // This would filter the charts based on selected criteria
        // For demo purposes, we'll just show an alert
        alert(`Filtering analytics from ${dateFrom} to ${dateTo}${department ? ` for ${department}` : ''}`);
    }
    
    function exportAnalyticsReport() {
        const format = document.getElementById('exportFormat').value;
        const username = localStorage.getItem('username');
        
        // Track export for achievement
        const exports = JSON.parse(localStorage.getItem(`analyticsExports_${username}`) || '[]');
        exports.push({
            date: new Date().toISOString(),
            format: format
        });
        localStorage.setItem(`analyticsExports_${username}`, JSON.stringify(exports.slice(-50)));
        
        const analytics = JSON.parse(localStorage.getItem('payrollAnalytics') || '[]');
        const currentMonth = analytics[analytics.length - 1];
        
        if (format === 'csv') {
            exportCSVReport(analytics);
        } else {
            exportPDFReport(currentMonth);
        }
        
        alert(`${format.toUpperCase()} report exported successfully!`);
    }
    
    function exportCSVReport(analytics) {
        const csvContent = [
            ['Month', 'Total Payroll', 'Employee Count', 'Average Salary', 'Total Taxes', 'Total Bonuses', 'Total Deductions'],
            ...analytics.map(a => [
                a.month,
                a.totalPayroll.toFixed(2),
                a.employeeCount,
                a.averageSalary.toFixed(2),
                a.totalTaxes.toFixed(2),
                a.totalBonuses.toFixed(2),
                a.totalDeductions.toFixed(2)
            ])
        ].map(row => row.join(',')).join('\n');
        
        const blob = new Blob([csvContent], { type: 'text/csv' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `payroll_analytics_${new Date().toISOString().split('T')[0]}.csv`;
        document.body.appendChild(a);
        a.click();
        a.remove();
        URL.revokeObjectURL(url);
    }
    
    function exportPDFReport(data) {
        // Simulate PDF generation
        const reportContent = `
Payroll Analytics Report
=======================

Current Month Summary:
- Total Payroll: $${data.totalPayroll.toLocaleString()}
- Employee Count: ${data.employeeCount}
- Average Salary: $${data.averageSalary.toFixed(0)}
- Total Taxes: $${data.totalTaxes.toLocaleString()}
- Total Bonuses: $${data.totalBonuses.toLocaleString()}
- Total Deductions: $${data.totalDeductions.toLocaleString()}

Department Breakdown:
${Object.entries(data.departmentBreakdown).map(([dept, amount]) => `- ${dept}: $${amount.toLocaleString()}`).join('\n')}

Generated: ${new Date().toLocaleString()}
        `;
        
        const blob = new Blob([reportContent], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `payroll_report_${new Date().toISOString().split('T')[0]}.txt`;
        document.body.appendChild(a);
        a.click();
        a.remove();
        URL.revokeObjectURL(url);
    }
    
    document.addEventListener('DOMContentLoaded', checkAuth);
  </script>
  <style>
    .analytics-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .summary-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      text-align: center;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .summary-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #3b82f6, #10b981, #f59e0b, #ef4444);
    }
    .summary-card h4 {
      margin: 0 0 10px;
      color: var(--muted);
      font-size: 0.9rem;
    }
    .summary-card .value {
      font-size: 2rem;
      font-weight: bold;
      color: var(--primary);
      margin-bottom: 5px;
    }
    .growth-indicator {
      font-size: 0.9rem;
      font-weight: 600;
      padding: 2px 8px;
      border-radius: 12px;
    }
    .growth-indicator.positive {
      background: #dcfce7;
      color: #166534;
    }
    .growth-indicator.negative {
      background: #fecaca;
      color: #991b1b;
    }
    .charts-grid {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 30px;
      margin-bottom: 30px;
    }
    .chart-container {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
    }
    .chart-container h3 {
      margin: 0 0 20px;
      color: var(--text);
      font-size: 1.1rem;
    }
    .filters-section {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: var(--shadow);
    }
    .filters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 15px;
    }
    .achievement-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: white;
      border: 1px solid #10b981;
      border-radius: 12px;
      padding: 15px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      z-index: 1000;
      transform: translateX(400px);
      transition: transform 0.3s ease;
    }
    .achievement-notification.show {
      transform: translateX(0);
    }
    .notification-content {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .notification-icon {
      width: 50px;
      height: 50px;
      background: #10b981;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
    }
    .notification-text h4 {
      margin: 0 0 5px;
      color: var(--text);
      font-size: 1rem;
    }
    .notification-text p {
      margin: 0 0 5px;
      color: var(--muted);
      font-size: 0.9rem;
    }
    .xp-reward {
      color: #f59e0b;
      font-weight: 600;
      font-size: 0.9rem;
    }
    @media (max-width: 768px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }
      .analytics-summary {
        grid-template-columns: 1fr;
      }
      .filters-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-content">
      <h1><i class="fas fa-chart-bar"></i> Payroll Analytics</h1>
      <div class="user-info">
        <span id="currentUser">Loading...</span>
        <button onclick="logout()" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</button>
      </div>
    </div>
  </header>
  
  <div class="container">
    <nav class="sidebar">
      <div class="sidebar-header"><i class="fas fa-user-tie"></i><span>HR Portal</span></div>
      <ul class="nav-links">
        <li><a href="hr-dashboard.html"><i class="fas fa-users"></i><span>HR Dashboard</span></a></li>
        <li><a href="employee-directory.html"><i class="fas fa-users"></i><span>Directory</span></a></li>
        <li><a href="performance-reviews.html"><i class="fas fa-chart-line"></i><span>Performance</span></a></li>
        <li><a href="audit-compliance.html"><i class="fas fa-shield-alt"></i><span>Audit</span></a></li>
        <li><a href="payroll-calendar.html"><i class="fas fa-calendar-alt"></i><span>Payroll Calendar</span></a></li>
        <li><a href="tax-calculator.html"><i class="fas fa-calculator"></i><span>Tax Calculator</span></a></li>
        <li><a href="salary-components.html"><i class="fas fa-coins"></i><span>Salary Components</span></a></li>
        <li><a href="bank-transfers.html"><i class="fas fa-university"></i><span>Bank Transfers</span></a></li>
        <li class="active"><a href="payroll-analytics.html"><i class="fas fa-chart-bar"></i><span>Analytics</span></a></li>
      </ul>
    </nav>
    
    <main class="main-content">
      <div class="page-header">
        <h2><i class="fas fa-chart-bar"></i> Payroll Analytics</h2>
        <p>Strategic insights and trends for payroll optimization.</p>
      </div>
      
      <!-- Analytics Summary -->
      <div class="analytics-summary">
        <div class="summary-card">
          <h4>Current Payroll</h4>
          <div class="value" id="currentPayroll">$0</div>
          <div class="growth-indicator" id="payrollGrowth">+0%</div>
        </div>
        <div class="summary-card">
          <h4>Active Employees</h4>
          <div class="value" id="currentEmployees">0</div>
          <div class="growth-indicator" id="employeeGrowth">+0</div>
        </div>
        <div class="summary-card">
          <h4>Average Salary</h4>
          <div class="value" id="averageSalary">$0</div>
          <div class="growth-indicator" id="salaryGrowth">+0%</div>
        </div>
      </div>
      
      <!-- Filters -->
      <div class="filters-section">
        <h3><i class="fas fa-filter"></i> Analytics Filters</h3>
        <div class="filters-grid">
          <div class="form-group">
            <label for="dateFrom">From Date</label>
            <input type="date" id="dateFrom">
          </div>
          <div class="form-group">
            <label for="dateTo">To Date</label>
            <input type="date" id="dateTo">
          </div>
          <div class="form-group">
            <label for="departmentFilter">Department</label>
            <select id="departmentFilter">
              <option value="">All Departments</option>
              <option value="Operations">Operations</option>
              <option value="Marketing">Marketing</option>
              <option value="Engineering">Engineering</option>
            </select>
          </div>
          <div class="form-group">
            <label>&nbsp;</label>
            <button onclick="filterAnalytics()" class="primary-btn">
              <i class="fas fa-search"></i> Apply Filters
            </button>
          </div>
        </div>
      </div>
      
      <!-- Charts Grid -->
      <div class="charts-grid">
        <div class="chart-container">
          <h3><i class="fas fa-chart-bar"></i> Monthly Payroll Trends</h3>
          <canvas id="monthlyPayrollChart" width="400" height="200"></canvas>
        </div>
        <div class="chart-container">
          <h3><i class="fas fa-chart-pie"></i> Department Distribution</h3>
          <canvas id="departmentChart" width="300" height="200"></canvas>
        </div>
      </div>
      
      <div class="charts-grid">
        <div class="chart-container">
          <h3><i class="fas fa-chart-line"></i> Bonus vs. Deduction Trends</h3>
          <canvas id="bonusTrendChart" width="400" height="200"></canvas>
        </div>
        <div class="chart-container">
          <h3><i class="fas fa-chart-doughnut"></i> Tax Contribution Breakdown</h3>
          <canvas id="taxBreakdownChart" width="300" height="200"></canvas>
        </div>
      </div>
      
      <!-- Export Section -->
      <div class="content-section">
        <div class="section-header">
          <h3><i class="fas fa-download"></i> Export Analytics</h3>
          <div>
            <select id="exportFormat" style="margin-right: 10px;">
              <option value="csv">CSV</option>
              <option value="pdf">PDF</option>
            </select>
            <button onclick="exportAnalyticsReport()" class="primary-btn">
              <i class="fas fa-download"></i> Export Report
            </button>
          </div>
        </div>
        <p>Export comprehensive payroll analytics for strategic planning and compliance reporting.</p>
      </div>
    </main>
  </div>
  
  <footer><p>&copy; 2025 PayrollPro by Aaron | Payroll Analytics</p></footer>
</body>
</html>